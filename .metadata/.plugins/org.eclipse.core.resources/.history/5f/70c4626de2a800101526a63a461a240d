package com.demo.test;
import java.util.Map;
import java.util.Scanner;
import java.util.Set;

import com.demo.service.CourseService;
import com.demo.service.CourseServiceImpl;

public class TestCourse {
	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);
		CourseService cservice= new CourseServiceImpl();
		int choice=0;
		do {
			System.out.println("1. Add new Course\n 2. display all\n3. find by course name\n");
			System.out.println("4. modify course capacity\n 5. find by course capacity\n6. modify course name\n");
			System.out.println("7. display in sorted order of key\n 8. display  in sorted order of value\n");
			System.out.println("9. delete by course name\n10. delete by capacity\n 11.exit\n choice: ");
			choice=sc.nextInt();
			
			switch(choice) {
			case 1->{
				boolean status = cservice.addNewCourse();
				if(status) {
					System.out.println("added successfully");
				}else {
					System.out.println(" not added");
				}
			}
			
			case 2->{
				Map<String,Integer>cmap=cservice.displayAll();
				Set<String>keys = cmap.keySet();
				keys.forEach(e->System.out.println(e+"----->"+cmap.get(e)));
				
			}
			
			case 3->{
				System.out.println("enter the course name");
				String cname = sc.next();
				int capacity = cservice.findByCourseName(cname);
				if(capacity!=-1) {
					System.out.println("course name: "+cname+"  capcity:"+capacity);
				}else {
					System.out.println("not found!!");
				}
				
			}
			case 4->{
				System.out.println("enter course name to modify");
			    String cname = sc.next();
			    System.out.println("enter course new Capacity");
			    int ncap = sc.nextInt();
			    boolean status = cservice.modifyCourseCapcity(cname,ncap);
			    if(status) {
			    	System.out.println("modified successfully");
			    }else {
			    	System.out.println("not found!!");
			    	
			    }
			}
			case 5->{
				System.out.println("enter the course capacity");
				int capacity=sc.nextInt();
				Set<String>s=cservice.findByCapacity(capacity);
				if(s!=null)
				{
					s.forEach(System.out::println);
				}
				else {
					System.out.println("not found");
				}
			}
			case 6->{
				System.out.println("enter old course name");
				String ocname = sc.next();
				System.out.println("enter new course name");
				String ncname = sc.next();
				boolean status = cservice.modifyCourseName(ocname,ncname);
				if(status) {
					System.out.println("course name modified successfully");
				}else {
					System.out.println("not found!!");
				}
				
			}
			
			case 7->{
			 Map<String,Integer>cmap = cservice.sortByName();
			 Set<String>cset = cmap.keySet();
			 cset.forEach(k->System.out.println(k+"------->"+cmap.get(k)));
			 }
			
			case 8->{
				Set<Map.Entry<String,Integer>>eset=cservice.sortByCapacity();
				eset.forEach(e->System.out.println(e.getKey()+"-------->"+e.getValue()));
			}
			
			case 9->{
				System.out.println("enter course name");
				String cname = sc.next();
				boolean status = cservice.deleteByName(cname);
				if(status) {
					System.out.println("deleted successfully");
				}else {
					System.out.println("not found!");
				}
			}
			case 10->{
				System.out.println("enter capacity");
				int capacity = sc.nextInt();
				boolean status = cservice.deleteByCapacity(capacity);
				if(status) {
					System.out.println("deleted succesfully");
				}
				else {
					System.out.println("not found!!");
				}
			}
			}
		}while(choice!=11);
	}
}

package com.demo.test;
import com.demo.beans.Employee;
import com.demo.service.*;

import java.util.List;
import java.util.Scanner;
import java.util.Set;

public class TestEmployee {

	public static void main(String[] args) {
		EmployeeService eservice = new EmployeeServiceImpl();
		Scanner sc = new Scanner(System.in);
		int choice=0;
		 
		do {
		 System.out.println("1. add new employee\n2. display all employee\n3. find employee by id");
		 System.out.println("4. find employee by name\n5. update salary\n6. delete by id");
		 System.out.println("7. delete by salary\n8. search by salary\n9. sort by salary");
		 System.out.println("10. sort by name\n11. sort by id\n12. exit\nchoice->>>");
		 choice = sc.nextInt();
		 switch(choice) {
		 case 1->{
			 boolean status = eservice.addNewEmployee();
			 if(status) {
				 System.out.println("employee added successfully");
			 }else {
				 System.out.println("not added");
			 }
		 }	 
		 case 2->{	 
			 Set<Employee> eset = eservice.displayAll();
			 if(eset!=null) {
				 eset.forEach(System.out::println);
			 }else {
				 System.out.println("employee not found!");
			 }
		 }
		 
		 case 3->{
			 System.out.println("enter id");
			 int id = sc.nextInt();
			 Employee e = eservice.findById(id);
			 if(e!=null) {
				 System.out.println(e);
			 }else {
				 System.out.println("not found!!");
			 }
		 }
		 case 4->{
			 System.out.println("enter name");
			 String nm = sc.next();
			 Set<Employee> eset = eservice.findByName(nm);
			 if(eset!=null) {
				 eset.forEach(System.out::println);
			 }else {
				 System.out.println("not found!!");
			 }
		 }
		 
		 case 5->{
			 System.out.println("enter id");
			 int id = sc.nextInt();
			 System.out.println("enter salary");
			 double sal = sc.nextDouble();
			 boolean status = eservice.updateSalary(id,sal);
			 if(status) {
				 System.out.println("updated successfully");
			 }else {
				 System.out.println("not found to update");
			 }
		 }
		 case 6->{
			 System.out.println("enter id to delete");
			 int id = sc.nextInt();
			 boolean status = eservice.deleteById(id);
			 if(status) {
				 System.out.println("deleted successfully");
			 }else {
				 System.out.println("not deleted!!");
			 }
		 }
		 case 7->{
			 System.out.println("enter salary");
			 double sal = sc.nextDouble();
			 boolean status = eservice.deleteBySal(sal);
			 if(status) {
				 System.out.println("deleted successfully");
			 }else {
				 System.out.println("not deleted!!");
			 }
		 }
		 case 8->{
			 System.out.println("enter the salary");
			 double sal=sc.nextDouble();
			 List<Employee> li=eservice.searchBySal(sal);
			 if(li!=null)
			 {
				 li.forEach(System.out::println);
			 }else
			 {
				 System.out.println("not found");
			 }
		 }
		 case 9->{
			 List<Employee>ls=eservice.sortBySal();
			 if(ls!=null)
			 {
				 ls.forEach(System.out::println);
			 }
		 }
		 case 10->{
			 List<Employee>elist = eservice.sortByName();
			 elist.forEach(System.out::println);
		 }
		 default->{
			 System.out.println("wrong choice!!");
		 }
		 
		 }
		}while(choice!=13);
	}

}
